import{o as r,c as p,a as d,t as l,n as _,p as L,b as j,u as c,d as A,F as I,r as h,e as C,f as D,g as P,h as y,i as F}from"./vendor.689bee3c.js";const M=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}};M();const S={edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0435\u0441\u0441\u0438\u044E",menu:"\u041C\u0435\u043D\u044E",changeSession:"\u0421\u043C\u0435\u043D\u0438\u0442\u044C \u0441\u0435\u0441\u0441\u0438\u044E",saveSession:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u0435\u0441\u0441\u0438\u044E",deleteProduct:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u0440\u043E\u0434\u0443\u043A\u0442",addProduct:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u0440\u043E\u0434\u0443\u043A\u0442"};var f=(s,e)=>{for(const[o,n]of e)s[o]=n;return s};const O=s=>(L("data-v-46ee77fa"),s=s(),j(),s),T=O(()=>d("div",{class:"user_avatar"},null,-1)),V=O(()=>d("div",{class:"id_and_text"},[d("p",{class:"id"},"3723022"),d("p",{class:"header_text"},"\u041A\u0430\u0440\u0442\u0430 \u0412\u0412")],-1)),q={class:"id_and_text"},z={class:"id"},K={class:"header_text"},G={props:{date:String,timeOpen:String,timeExit:String,saved:Boolean},setup(s){const e=s;return(o,n)=>(r(),p("div",{class:_(["header",[e.saved?"header_saved":"header_unsaved"]])},[T,V,d("div",q,[d("p",z,l(e.date),1),d("p",K,l(e.timeOpen)+" - "+l(e.timeExit),1)]),d("div",{class:_([e.saved?"saved":"unsaved"])},null,2)],2))}};var J=f(G,[["__scopeId","data-v-46ee77fa"]]),$="/test-neurus/assets/sessions.1d19a316.svg";const Q={class:"open_session"},R={class:"text"},U={class:"open_or_exit"},W={key:0,class:"time"},X={key:1,class:"time"},Y=["title"],Z=["src"],ee={props:{timeOpen:String,timeExit:String,name:String,saved:Boolean},setup(s){const e=s;return(o,n)=>(r(),p("div",Q,[d("div",R,[d("p",U,l(s.name),1),s.name==="\u0412\u0445\u043E\u0434"?(r(),p("p",W,l(s.timeOpen),1)):(r(),p("p",X,l(s.timeExit),1))]),d("button",{class:_([e.saved?"button_saved":"button"]),title:c(S).changeSession},[d("img",{class:"button_img",src:c($)},null,8,Z)],10,Y)]))}};var E=f(ee,[["__scopeId","data-v-5d8eb7e8"]]),se="/test-neurus/assets/trash.0487fb06.svg",N=[{id:111105,type:"take_off",timestamp:1634604672,trackId:30417,productName:"\u041E\u0440\u0435\u0445 \u0411\u0440\u0430\u0437\u0438\u043B\u044C\u0441\u043A\u0438\u0439 \u0441\u0443\u0448\u0451\u043D\u044B\u0439, 100\u0433",productCount:-1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111106,type:"put_on",timestamp:1634606230,productName:"\u0421\u0430\u043B\u0444\u0435\u0442\u043A\u0438 \u0434\u0435\u0442\u0441\u043A\u0438\u0435, 50\u0448\u0442",productCount:1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111107,type:"take_off",timestamp:1634623962,productName:"\u041C\u0430\u0442\u0447\u0430 \u043B\u0430\u0442\u0442\u0435, 100\u0433",productCount:-10,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111108,type:"put_on",timestamp:1634623963,productName:"\u041C\u0430\u0442\u0447\u0430 \u043B\u0430\u0442\u0442\u0435, 100\u0433",productCount:1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111109,type:"take_off",timestamp:1634624212,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-9,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111110,type:"take_off",timestamp:1634624256,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-4,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111111,type:"put_on",timestamp:1634624436,productName:"\u041A\u043E\u043D\u0444\u0435\u0442\u044B \u0448\u043E\u043A\u043E\u043B\u0430\u0434\u043D\u044B\u0435 \u0441 \u0444\u0443\u043D\u0434\u0443\u043A\u043E\u043C \u0438 \u043C\u043E\u0440\u043A\u043E\u0432\u044C\u044E, 150\u0433",productCount:1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111112,type:"take_off",timestamp:1634624489,productName:"\u041A\u043E\u043D\u0444\u0435\u0442\u044B \u0448\u043E\u043A\u043E\u043B\u0430\u0434\u043D\u044B\u0435 \u0441 \u0444\u0443\u043D\u0434\u0443\u043A\u043E\u043C \u0438 \u043C\u043E\u0440\u043A\u043E\u0432\u044C\u044E, 150\u0433",productCount:-1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111113,type:"put_on",timestamp:1634624497,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111114,type:"take_off",timestamp:1634624851,productName:"\u0422\u043E\u043C\u0430\u0442\u044B \u0432\u044F\u043B\u0435\u043D\u043D\u044B\u0435 \u0432 \u043C\u0430\u0441\u043B\u0435, 240\u0433",productCount:-1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111115,type:"put_on",timestamp:1634624985,productName:"\u041A\u043E\u043D\u0444\u0435\u0442\u044B \u0448\u043E\u043A\u043E\u043B\u0430\u0434\u043D\u044B\u0435 \u0441 \u0444\u0443\u043D\u0434\u0443\u043A\u043E\u043C \u0438 \u043C\u043E\u0440\u043A\u043E\u0432\u044C\u044E, 150\u0433",productCount:1,state:"initial",sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111116,type:"take_off",timestamp:1634625399,productName:"\u041A\u043E\u043D\u0444\u0435\u0442\u044B \u0448\u043E\u043A\u043E\u043B\u0430\u0434\u043D\u044B\u0435 \u0441 \u0444\u0443\u043D\u0434\u0443\u043A\u043E\u043C \u0438 \u043C\u043E\u0440\u043A\u043E\u0432\u044C\u044E, 150\u0433",productCount:-1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111117,type:"put_on",timestamp:1634625809,productName:"\u0421\u0430\u043B\u0444\u0435\u0442\u043A\u0438 \u0434\u0435\u0442\u0441\u043A\u0438\u0435, 50\u0448\u0442",productCount:1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111118,type:"put_on",timestamp:1634625812,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111119,type:"take_off",timestamp:1634625964,productName:"\u0421\u0430\u043B\u0444\u0435\u0442\u043A\u0438 \u0434\u0435\u0442\u0441\u043A\u0438\u0435, 50\u0448\u0442",productCount:-1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111120,type:"take_off",timestamp:1634626045,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-1,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111121,type:"put_on",timestamp:1634626306,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111122,type:"put_on",timestamp:1634626666,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111123,type:"take_off",timestamp:1634626689,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-1,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111124,type:"put_on",timestamp:1634627710,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:2,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111125,type:"take_off",timestamp:1634627714,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-2,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111126,type:"take_off",timestamp:1634627878,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111127,type:"put_on",timestamp:1634627917,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"}],k=[{id:4750,type:"open",timestamp:1634643425,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:4757,type:"exit",timestamp:1634643732,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:4752,type:"open",timestamp:1634643558,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:4755,type:"exit",timestamp:1634643669,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:4756,type:"open",timestamp:1634624193,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:4735,type:"exit",timestamp:1634643677,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"}];const te=N.map(s=>s.sessionId),oe=k.map(s=>s.sessionId),ne=new Set(te.concat(oe)),de=[...ne].map(s=>{var a,b;const e=(a=k.find(u=>u.type==="open"&&u.sessionId===s))==null?void 0:a.timestamp,o=(b=k.find(u=>u.type==="exit"&&u.sessionId===s))==null?void 0:b.timestamp,n=N.filter(u=>u.sessionId===s).map(u=>u.productName),i=[...new Set(n)].map(u=>{const B=N.filter(v=>v.sessionId===s&&v.productName===u).map(v=>v.productCount).reduce((v,H)=>v-H,0);return{name:u,count:B}});return{sessionId:s,sessionOpen:e,sessionExit:o,products:i,saved:!1,openedProductsPopup:!1}}),m=A({state:{initialSate:de},getters:{sessions:s=>s.initialSate,products:s=>new Set(s.initialSate.map(e=>e.products.map(o=>o.name)).flat())},mutations:{increment(s,e){const o=g(s,e.sessionId,e.product.name);o.count++},decrement(s,e){const o=g(s,e.sessionId,e.product.name);o.count--},openClosePopupProductsPopup(s,e){const o=x(s,e.sessionId),n=s.initialSate.indexOf(o);s.initialSate[n].openedProductsPopup=!s.initialSate[n].openedProductsPopup},addProduct(s,e){const o=x(s,e.sessionId),n=g(s,e.sessionId,e.product),t=s.initialSate.indexOf(o);n?n.count++:s.initialSate[t].products.push({name:e.product,count:1})},deleteProduct(s,e){const o=x(s,e.sessionId),n=g(s,e.sessionId,e.product.name),t=s.initialSate.indexOf(o),i=s.initialSate[t].products.indexOf(n);s.initialSate[t].products.splice(i,1)},saveSession(s,e){const o=x(s,e.sessionId),n=s.initialSate.indexOf(o);s.initialSate[n].saved=!0}}});function x(s,e){return s.initialSate.find(o=>o.sessionId===e)}function g(s,e,o){return x(s,e).products.find(n=>n.name===o)}const ie={class:"product"},ce={class:"product_name"},ae={class:"count_and_buttons"},re=["title"],ue=["src"],pe=["title"],_e=["src"],me={props:{product:Object,sessionId:String,saved:Boolean},setup(s){const e=s;function o(){m.commit("increment",{sessionId:e.sessionId,product:e.product})}function n(){m.commit("decrement",{sessionId:e.sessionId,product:e.product})}function t(){m.commit("deleteProduct",{sessionId:e.sessionId,product:e.product})}return(i,a)=>(r(),p("div",ie,[d("p",ce,l(e.product.name),1),d("div",ae,[d("button",{class:_([e.saved?"button_saved":"button button_delete"]),type:"button",onClick:t,title:c(S).deleteProduct},[d("img",{class:"button_img",src:c(se)},null,8,ue)],10,re),d("button",{class:_([e.saved?"button_saved":"button button_change_count"]),onClick:n}," \u2013 ",2),d("p",{class:_([e.saved?"product_count product_count_saved":"product_count"])},l(e.product.count),3),d("button",{class:_([e.saved?"button_saved":"button button_change_count"]),onClick:o}," + ",2),d("button",{class:_([e.saved?"button_saved":"button button_change_session"]),title:c(S).changeSession},[d("img",{class:"button_img",src:c($)},null,8,_e)],10,pe)])]))}};var le=f(me,[["__scopeId","data-v-52647739"]]);const be={class:"products"},fe={props:{products:Object,sessionId:String,saved:Boolean},setup(s){const e=s;return(o,n)=>(r(),p("div",be,[(r(!0),p(I,null,h(e.products,(t,i)=>(r(),p("div",{key:i},[t.count>0?(r(),C(le,{key:0,product:t,sessionId:e.sessionId,saved:e.saved},null,8,["product","sessionId","saved"])):D("",!0)]))),128))]))}};var ve=f(fe,[["__scopeId","data-v-a6bd6240"]]);const Ie={class:"product"},ye={props:{sessionId:String,product:String},setup(s){const e=s;function o(){m.commit("addProduct",{sessionId:e.sessionId,product:e.product}),m.commit("openClosePopupProductsPopup",{sessionId:e.sessionId})}return(n,t)=>(r(),p("div",Ie,[d("button",{class:"button_add",onClick:o},l(e.product),1)]))}};var Se=f(ye,[["__scopeId","data-v-7e274c30"]]);const xe={props:{session:Object},setup(s){const e=s,o=m.getters.products;return(n,t)=>(r(),p(I,null,[d("div",{class:_([e.session.openedProductsPopup?"overlay overlay_opened":"overlay"]),onClick:t[0]||(t[0]=i=>c(m).commit("openClosePopupProductsPopup",{sessionId:e.session.sessionId}))},null,2),d("div",{class:_([e.session.openedProductsPopup?"popup popup_opened":"popup"])},[d("button",{class:"button_close",onClick:t[1]||(t[1]=i=>c(m).commit("openClosePopupProductsPopup",{sessionId:e.session.sessionId}))}),(r(!0),p(I,null,h(c(o),(i,a)=>(r(),C(Se,{key:a,product:i,sessionId:e.session.sessionId},null,8,["product","sessionId"]))),128))],2)],64))}};var Pe=f(xe,[["__scopeId","data-v-da735738"]]);const ge=["title"],he=["title"],Ce={props:{session:Object},setup(s){const e=s,o="_";let n,t=o;if(e.session.sessionOpen){const a=e.session.sessionOpen;t=P(new Date(a*1e3),"HH:mm:ss"),n=P(new Date(a*1e3),"dd.MM.yyyy")}let i=o;if(e.session.sessionExit){const a=e.session.sessionExit;i=P(new Date(a*1e3),"HH:mm:ss"),n=P(new Date(a*1e3),"dd.MM.yyyy")}return(a,b)=>(r(),p(I,null,[d("main",{class:_(["main",[e.session.saved?"main_saved":"main_unsaved"]])},[y(J,{date:c(n),timeOpen:c(t),timeExit:c(i),saved:e.session.saved},null,8,["date","timeOpen","timeExit","saved"]),y(E,{timeOpen:c(t),name:"\u0412\u0445\u043E\u0434",saved:e.session.saved},null,8,["timeOpen","saved"]),y(ve,{products:e.session.products,sessionId:e.session.sessionId,saved:e.session.saved},null,8,["products","sessionId","saved"]),y(E,{timeExit:c(i),name:"\u0412\u044B\u0445\u043E\u0434",saved:e.session.saved},null,8,["timeExit","saved"]),d("div",{class:_([e.session.saved?"buttons_saved":"buttons"])},[d("button",{class:"button button_add",onClick:b[0]||(b[0]=u=>c(m).commit("openClosePopupProductsPopup",{sessionId:e.session.sessionId})),title:c(S).addProduct}," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0440\u043E\u0434\u0443\u043A\u0442 ",8,ge),d("button",{class:"button button_save",onClick:b[1]||(b[1]=u=>c(m).commit("saveSession",{sessionId:e.session.sessionId})),title:c(S).saveSession}," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C ",8,he)],2)],2),y(Pe,{session:e.session},null,8,["session"])],64))}};var Ne=f(Ce,[["__scopeId","data-v-6712e294"]]);const ke={setup(s){return(e,o)=>(r(!0),p(I,null,h(c(m).getters.sessions,(n,t)=>(r(),C(Ne,{key:t,session:n},null,8,["session"]))),128))}},w=F(ke);w.use(m);w.mount("#app");
