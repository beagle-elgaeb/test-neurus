import{o as p,c as m,a as c,t as f,n as _,p as T,b as A,u as a,d as B,F as g,r as C,e as N,f as M,w as $,g as S,h as P,i as H}from"./vendor.90c6ba84.js";const j=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}};j();const x={edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0435\u0441\u0441\u0438\u044E",menu:"\u041C\u0435\u043D\u044E",changeSession:"\u0421\u043C\u0435\u043D\u0438\u0442\u044C \u0441\u0435\u0441\u0441\u0438\u044E",saveSession:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u0435\u0441\u0441\u0438\u044E",deleteProduct:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u0440\u043E\u0434\u0443\u043A\u0442",addProduct:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u0440\u043E\u0434\u0443\u043A\u0442"};var b=(s,e)=>{for(const[t,d]of e)s[t]=d;return s};const E=s=>(T("data-v-46ee77fa"),s=s(),A(),s),F=E(()=>c("div",{class:"user_avatar"},null,-1)),V=E(()=>c("div",{class:"id_and_text"},[c("p",{class:"id"},"3723022"),c("p",{class:"header_text"},"\u041A\u0430\u0440\u0442\u0430 \u0412\u0412")],-1)),z={class:"id_and_text"},q={class:"id"},K={class:"header_text"},G={props:{date:String,timeOpen:String,timeExit:String,saved:Boolean},setup(s){const e=s;return(t,d)=>(p(),m("div",{class:_(["header",[e.saved?"header_saved":"header_unsaved"]])},[F,V,c("div",z,[c("p",q,f(e.date),1),c("p",K,f(e.timeOpen)+" - "+f(e.timeExit),1)]),c("div",{class:_([e.saved?"saved":"unsaved"])},null,2)],2))}};var J=b(G,[["__scopeId","data-v-46ee77fa"]]),Q="/test-neurus/assets/sessions.1d19a316.svg";const R={class:"open_session"},U={class:"text"},W={class:"open_or_exit"},X={key:0,class:"time"},Y={key:1,class:"time"},Z=["title"],ee=["src"],se={props:{timeOpen:String,timeExit:String,name:String,saved:Boolean},setup(s){const e=s;return(t,d)=>(p(),m("div",R,[c("div",U,[c("p",W,f(s.name),1),s.name==="\u0412\u0445\u043E\u0434"?(p(),m("p",X,f(s.timeOpen),1)):(p(),m("p",Y,f(s.timeExit),1))]),c("button",{class:_([e.saved?"button_saved":"button"]),title:a(x).changeSession},[c("img",{class:"button_img",src:a(Q)},null,8,ee)],10,Z)]))}};var D=b(se,[["__scopeId","data-v-5d8eb7e8"]]),te="/test-neurus/assets/trash.0487fb06.svg",k=[{id:111105,type:"take_off",timestamp:1634604672,trackId:30417,productName:"\u041E\u0440\u0435\u0445 \u0411\u0440\u0430\u0437\u0438\u043B\u044C\u0441\u043A\u0438\u0439 \u0441\u0443\u0448\u0451\u043D\u044B\u0439, 100\u0433",productCount:-1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111106,type:"put_on",timestamp:1634606230,productName:"\u0421\u0430\u043B\u0444\u0435\u0442\u043A\u0438 \u0434\u0435\u0442\u0441\u043A\u0438\u0435, 50\u0448\u0442",productCount:1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111107,type:"take_off",timestamp:1634623962,productName:"\u041C\u0430\u0442\u0447\u0430 \u043B\u0430\u0442\u0442\u0435, 100\u0433",productCount:-10,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111108,type:"put_on",timestamp:1634623963,productName:"\u041C\u0430\u0442\u0447\u0430 \u043B\u0430\u0442\u0442\u0435, 100\u0433",productCount:1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111109,type:"take_off",timestamp:1634624212,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-9,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111110,type:"take_off",timestamp:1634624256,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-4,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111111,type:"put_on",timestamp:1634624436,productName:"\u041A\u043E\u043D\u0444\u0435\u0442\u044B \u0448\u043E\u043A\u043E\u043B\u0430\u0434\u043D\u044B\u0435 \u0441 \u0444\u0443\u043D\u0434\u0443\u043A\u043E\u043C \u0438 \u043C\u043E\u0440\u043A\u043E\u0432\u044C\u044E, 150\u0433",productCount:1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111112,type:"take_off",timestamp:1634624489,productName:"\u041A\u043E\u043D\u0444\u0435\u0442\u044B \u0448\u043E\u043A\u043E\u043B\u0430\u0434\u043D\u044B\u0435 \u0441 \u0444\u0443\u043D\u0434\u0443\u043A\u043E\u043C \u0438 \u043C\u043E\u0440\u043A\u043E\u0432\u044C\u044E, 150\u0433",productCount:-1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111113,type:"put_on",timestamp:1634624497,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111114,type:"take_off",timestamp:1634624851,productName:"\u0422\u043E\u043C\u0430\u0442\u044B \u0432\u044F\u043B\u0435\u043D\u043D\u044B\u0435 \u0432 \u043C\u0430\u0441\u043B\u0435, 240\u0433",productCount:-1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111115,type:"put_on",timestamp:1634624985,productName:"\u041A\u043E\u043D\u0444\u0435\u0442\u044B \u0448\u043E\u043A\u043E\u043B\u0430\u0434\u043D\u044B\u0435 \u0441 \u0444\u0443\u043D\u0434\u0443\u043A\u043E\u043C \u0438 \u043C\u043E\u0440\u043A\u043E\u0432\u044C\u044E, 150\u0433",productCount:1,state:"initial",sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111116,type:"take_off",timestamp:1634625399,productName:"\u041A\u043E\u043D\u0444\u0435\u0442\u044B \u0448\u043E\u043A\u043E\u043B\u0430\u0434\u043D\u044B\u0435 \u0441 \u0444\u0443\u043D\u0434\u0443\u043A\u043E\u043C \u0438 \u043C\u043E\u0440\u043A\u043E\u0432\u044C\u044E, 150\u0433",productCount:-1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111117,type:"put_on",timestamp:1634625809,productName:"\u0421\u0430\u043B\u0444\u0435\u0442\u043A\u0438 \u0434\u0435\u0442\u0441\u043A\u0438\u0435, 50\u0448\u0442",productCount:1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111118,type:"put_on",timestamp:1634625812,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111119,type:"take_off",timestamp:1634625964,productName:"\u0421\u0430\u043B\u0444\u0435\u0442\u043A\u0438 \u0434\u0435\u0442\u0441\u043A\u0438\u0435, 50\u0448\u0442",productCount:-1,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:111120,type:"take_off",timestamp:1634626045,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-1,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111121,type:"put_on",timestamp:1634626306,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111122,type:"put_on",timestamp:1634626666,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111123,type:"take_off",timestamp:1634626689,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-1,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111124,type:"put_on",timestamp:1634627710,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:2,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111125,type:"take_off",timestamp:1634627714,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-2,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:111126,type:"take_off",timestamp:1634627878,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:-1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:111127,type:"put_on",timestamp:1634627917,productName:"\u041A\u0430\u043B\u044C\u0446\u0438\u0439 d3, 137\u0433",productCount:1,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"}],O=[{id:4750,type:"open",timestamp:1634643425,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:4757,type:"exit",timestamp:1634643732,sessionId:"143c1ddd-be57-4644-ae9a-6b16fee9078b"},{id:4752,type:"open",timestamp:1634643558,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:4755,type:"exit",timestamp:1634643669,sessionId:"6822d3db-a766-499f-b6ca-b9d6382c94b0"},{id:4756,type:"open",timestamp:1634624193,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"},{id:4735,type:"exit",timestamp:1634643677,sessionId:"f159363a-6dc9-46b1-87f5-cf82bc145e48"}];const oe=k.map(s=>s.sessionId),ne=O.map(s=>s.sessionId),de=new Set(oe.concat(ne)),ie=[...de].map(s=>{var i,u;const e=(i=O.find(r=>r.type==="open"&&r.sessionId===s))==null?void 0:i.timestamp,t=(u=O.find(r=>r.type==="exit"&&r.sessionId===s))==null?void 0:u.timestamp,d=k.filter(r=>r.sessionId===s).map(r=>r.productName),n=[...new Set(d)].map(r=>{const y=k.filter(I=>I.sessionId===s&&I.productName===r).map(I=>I.productCount).reduce((I,L)=>I-L,0);return{name:r,count:y}});return{sessionId:s,sessionOpen:e,sessionExit:t,products:n,saved:!1,openedProductsPopup:!1}}),l=B({state:{initialSate:ie},getters:{sessions:s=>s.initialSate,products:s=>new Set(s.initialSate.map(e=>e.products.map(t=>t.name)).flat())},mutations:{increment(s,e){const t=h(s,e.sessionId,e.product.name);t.count++},decrement(s,e){const t=h(s,e.sessionId,e.product.name);t.count--},openClosePopupProductsPopup(s,e){const t=v(s,e.sessionId),d=s.initialSate.indexOf(t);s.initialSate[d].openedProductsPopup=!s.initialSate[d].openedProductsPopup},addProduct(s,e){const t=v(s,e.sessionId),d=s.initialSate.indexOf(t),o=h(s,e.sessionId,e.product);o?o.count++:s.initialSate[d].products.push({name:e.product,count:1})},deleteProduct(s,e){const t=v(s,e.sessionId),d=s.initialSate.indexOf(t),o=h(s,e.sessionId,e.product.name),n=s.initialSate[d].products.indexOf(o);s.initialSate[d].products.splice(n,1)},drugAndDropProduct(s,e){const t=e.evt.dataTransfer.getData("sessionId"),d=v(s,t),o=v(s,e.sessionId),n=e.evt.dataTransfer.getData("productIndex"),[i]=d.products.splice(n,1),u=o.products.find(r=>r.name===i.name);u?u.count=u.count+i.count:o.products.splice(-1,0,i)},saveSession(s,e){const t=v(s,e.sessionId),d=s.initialSate.indexOf(t);s.initialSate[d].saved=!0}}});function v(s,e){return s.initialSate.find(t=>t.sessionId===e)}function h(s,e,t){return v(s,e).products.find(d=>d.name===t)}const ce={class:"product"},re={class:"product_name"},ae={class:"count_and_buttons"},ue=["title"],pe=["src"],me=["title"],_e={props:{product:Object,sessionId:String,saved:Boolean},setup(s){const e=s;function t(){l.commit("increment",{sessionId:e.sessionId,product:e.product})}function d(){l.commit("decrement",{sessionId:e.sessionId,product:e.product})}function o(){l.commit("deleteProduct",{sessionId:e.sessionId,product:e.product})}return(n,i)=>(p(),m("div",ce,[c("p",re,f(e.product.name),1),c("div",ae,[c("button",{class:_([e.saved?"button_saved":"button button_delete"]),type:"button",onClick:o,title:a(x).deleteProduct},[c("img",{class:"button_img",src:a(te)},null,8,pe)],10,ue),c("button",{class:_([e.saved?"button_saved":"button button_change_count"]),onClick:d}," \u2013 ",2),c("p",{class:_([e.saved?"product_count product_count_saved":"product_count"])},f(e.product.count),3),c("button",{class:_([e.saved?"button_saved":"button button_change_count"]),onClick:t}," + ",2),c("button",{class:_(["drag_handle",[e.saved?"button_saved":"button button_change_session"]]),title:a(x).changeSession},null,10,me)])]))}};var le=b(_e,[["__scopeId","data-v-5dd26950"]]);const fe={props:{products:Object,sessionId:String,saved:Boolean},setup(s){const e=s;let t=!1;function d(n){t=n.target}function o(n,i){t.classList.contains("drag_handle")?(n.dataTransfer.dropEffect="move",n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("productIndex",i),n.dataTransfer.setData("sessionId",e.sessionId)):n.preventDefault()}return(n,i)=>(p(),m("div",{class:_([e.products.filter(u=>u.count>0).length===0?"products products_zero":"products"]),onDrop:i[1]||(i[1]=u=>a(l).commit("drugAndDropProduct",{evt:u,sessionId:e.sessionId})),onDragover:i[2]||(i[2]=$(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=$(()=>{},["prevent"]))},[(p(!0),m(g,null,C(e.products,(u,r)=>(p(),m("div",{key:r},[u.count>0?(p(),N(le,{key:0,product:u,sessionId:e.sessionId,saved:e.saved,onDragstart:y=>o(y,r),onMousedown:i[0]||(i[0]=y=>d(y)),draggable:"true"},null,8,["product","sessionId","saved","onDragstart"])):M("",!0)]))),128))],34))}};var be=b(fe,[["__scopeId","data-v-cbedb55c"]]);const ve={class:"product"},Ie={props:{sessionId:String,product:String},setup(s){const e=s;function t(){l.commit("addProduct",{sessionId:e.sessionId,product:e.product}),l.commit("openClosePopupProductsPopup",{sessionId:e.sessionId})}return(d,o)=>(p(),m("div",ve,[c("button",{class:"button_add",onClick:t},f(e.product),1)]))}};var ye=b(Ie,[["__scopeId","data-v-7e274c30"]]);const ge={props:{session:Object},setup(s){const e=s,t=l.getters.products;return(d,o)=>(p(),m(g,null,[c("div",{class:_([e.session.openedProductsPopup?"overlay overlay_opened":"overlay"]),onClick:o[0]||(o[0]=n=>a(l).commit("openClosePopupProductsPopup",{sessionId:e.session.sessionId}))},null,2),c("div",{class:_([e.session.openedProductsPopup?"popup popup_opened":"popup"])},[c("button",{class:"button_close",onClick:o[1]||(o[1]=n=>a(l).commit("openClosePopupProductsPopup",{sessionId:e.session.sessionId}))}),(p(!0),m(g,null,C(a(t),(n,i)=>(p(),N(ye,{key:i,product:n,sessionId:e.session.sessionId},null,8,["product","sessionId"]))),128))],2)],64))}};var Pe=b(ge,[["__scopeId","data-v-da735738"]]);const xe=["title"],Se=["title"],he={props:{session:Object},setup(s){const e=s,t="_";let d,o=t;if(e.session.sessionOpen){const i=e.session.sessionOpen;o=S(new Date(i*1e3),"HH:mm:ss"),d=S(new Date(i*1e3),"dd.MM.yyyy")}let n=t;if(e.session.sessionExit){const i=e.session.sessionExit;n=S(new Date(i*1e3),"HH:mm:ss"),d=S(new Date(i*1e3),"dd.MM.yyyy")}return(i,u)=>(p(),m(g,null,[c("main",{class:_(["main",[e.session.saved?"main_saved":"main_unsaved"]])},[P(J,{date:a(d),timeOpen:a(o),timeExit:a(n),saved:e.session.saved},null,8,["date","timeOpen","timeExit","saved"]),P(D,{timeOpen:a(o),name:"\u0412\u0445\u043E\u0434",saved:e.session.saved},null,8,["timeOpen","saved"]),P(be,{products:e.session.products,sessionId:e.session.sessionId,saved:e.session.saved},null,8,["products","sessionId","saved"]),P(D,{timeExit:a(n),name:"\u0412\u044B\u0445\u043E\u0434",saved:e.session.saved},null,8,["timeExit","saved"]),c("div",{class:_([e.session.saved?"buttons_saved":"buttons"])},[c("button",{class:"button button_add",onClick:u[0]||(u[0]=r=>a(l).commit("openClosePopupProductsPopup",{sessionId:e.session.sessionId})),title:a(x).addProduct}," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0440\u043E\u0434\u0443\u043A\u0442 ",8,xe),c("button",{class:"button button_save",onClick:u[1]||(u[1]=r=>a(l).commit("saveSession",{sessionId:e.session.sessionId})),title:a(x).saveSession}," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C ",8,Se)],2)],2),P(Pe,{session:e.session},null,8,["session"])],64))}};var Ce=b(he,[["__scopeId","data-v-6712e294"]]);const Ne={setup(s){return(e,t)=>(p(!0),m(g,null,C(a(l).getters.sessions,(d,o)=>(p(),N(Ce,{key:o,session:d},null,8,["session"]))),128))}},w=H(Ne);w.use(l);w.mount("#app");
